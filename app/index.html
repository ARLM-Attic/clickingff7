<!DOCTYPE html>
<html lang="fr" ng-app="clickingff7">
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="revisit-after" content="7 days" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1" />
    
    <title>Clicking FF7</title>

    <link rel="stylesheet" type="text/css" href="css/style.css">
    
    <script src="js/underscore.min.js"></script>
    
    <script src="models/game.js"></script>
    <script src="models/enemy.js"></script>
    <script src="models/character.js"></script>
 
    <script src="js/angular.min.js"></script>
    <script src="js/angular-cookies.min.js"></script>
    <script src="js/app.js"></script>

    <script type="text/javascript">

    /*var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44996905-1']);
    _gaq.push(['_trackPageview']);

    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();*/

    </script>
  </head>

  <body ng-controller="HomeCtrl">

    <header>
      <div class="wrapper">
        clicking ff7
      </div>
    </header>

    <div class="wrapper">

      <div class="part w300">
        <div>{{zone.name}}</div>
        <div><span class="label">gils</span> {{total_gils|floor}}</span></div>
      </div><!--

      --><div class="part w300">
        <div><img ng-src="img/zones/{{zone.img}}" width="100" /></div>
        <div ng-click="next_zone()" class="button" ng-class="{disabled: !boss_defeated}">Go next zone</div>
      </div><!--

      --><div class="part w300">
        <div class="button" ng-click="save()">SAVE</div>
        <div class="button" ng-click="reset()">RESET</div>
      </div>

      <div class="space"></div>

      <div class="part w100">
        <div ng-click="attack()" class="button" ng-class="{disabled: !game.fight}">ATTACK</div>
      </div><!--

      --><div class="part enemy_hp w300">
        <div class="enemy_hp_progress" style="width:{{game.enemy_hp_progress(300)}}px;"></div>
        {{enemy_hp|round:2}} / {{enemy_hp_max}}
      </div><!--

      --><div class="part characters_hp w300">
        <div class="characters_hp_progress" style="width:{{game.characters_hp_progress(300)}}px;"></div>
        {{characters_hp|round:2}} / {{characters_hp_max}}
      </div><!--

      --><div class="part w100">
        <div ng-click="cure()" class="button">CURE</div>
        <div ng-click="escape()" class="button" ng-class="{disabled: !game.fight}">ESCAPE</div>
      </div>

      <div class="space"></div>

      <div class="part title w400">Enemy</div>
      <div class="part title w50">VS</div>
      <div class="part title w400">Characters</div>

      <div class="space"></div>

      <div class="part w400">

        <sections class="enemies">
          <div ng-repeat="(no, e) in enemy | clean" class="enemy" ng-class="{disabled: e.data.number == 0, hidden: no > enemy_level}">
            <div class="actions">
              <div class="button fight_enemy" ng-click="fight_enemy(e)">FIGHT</div>
            </div>
            <div class="part avatar w50">
              <img ng-src="img/enemy/{{e.data.image}}" alt="avatar" height="48" />
            </div>
            <div class="part infos w300">
              {{e.data.name}} <strong ng-show="e.data.number > 0">x{{e.data.number}}</strong>
              <div>
                <span class="label">hp</span> {{e.data.hp}} 
                <span class="label">pwr</span> {{e.data.pwr}}
              </div>
              <div>
                <span class="label">xp</span> {{e.data.xp}} 
                <span class="label">gils</span> {{e.data.gils}}
              </div>
            </div>
          </div>
        </sections>

      </div><!--

      --><div class="part w400">

        <sections class="characters">
          <div ng-repeat="(i, character) in characters | clean" class="character" ng-class="{disabled: character.data.level == 0}">
            <div class="xp_progress" style="width:{{character.data.xp/character.get_xp_max()*400}}px;"></div>
            <div class="part infos w300">
              <div>{{character.data.name}} <strong>(LVL{{character.data.level}})</strong></div>
              <div ng-if="character.data.level > 0">
                <span class="label">hp</span> {{character.get_hp()}} 
                <span class="label">pwr</span> {{character.get_hits()|round:2}}
              </div>
              <div class="line">"{{character.get_line()}}"</div>
            </div><!--
            --><div class="part avatar w50">
              <img ng-src="img/characters/{{character.data.image}}" alt="avatar" />
            </div>
          </div>
        </sections>

      </div>

    </div>
    
    <div class="clear"></div>

    <footer>
      <div class="wrapper">
        Â©2013 menencia.com, version 0.3.1 still beta. <a href="http://clickingff7.tumblr.com/" target="_blank">Dev Blog</a>
      </div>
    </footer>

  </body>

</html>