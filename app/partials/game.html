<div class="part w300">
  <div>{{game.zone.name}} (<em>#{{game.zone.level}}</em>)</div>
  <div><span class="label">gils</span> <strong>{{game.total_gils|floor}}</strong></span></div>
</div><!--

--><div class="part w300">
  <div ng-if="game.zone.img"><img ng-src="img/zones/{{game.zone.img}}" width="100" /></div>
  <div ng-click="next_zone()" class="button" ng-class="{disabled: !game.can_next_zone()}">Go next zone</div>
</div><!--

--><div class="part w300"></div>

<div class="space"></div>

<div class="part w100">
  <div ng-click="explore($event)" class="button" ng-class="{disabled: game.fight}">EXPLORE</div>
  <div ng-click="attack($event)" class="button" ng-class="{disabled: !game.characters.canAttack(), limit: game.characters.canLimit()}">
    <span ng-if="!game.characters.canLimit()">ATTACK</span>
    <span ng-if="game.characters.canLimit()">LIMIT</span>
  </div>
</div><!--

--><div class="part enemy_hp w300">
  <div class="enemy_hp_progress" style="width:{{game.enemies.hpProgress(300)}}px;"></div>
  {{game.enemies.hp|round:2}} / {{game.enemies.hpMax}}
</div><!--

--><div class="part characters_hp w300">
  <div class="characters_hp_progress" style="width:{{game.characters.hpProgress(300)}}px;"></div>
  {{game.characters.hp|round:2}} / {{game.characters.hpMax}}
</div><!--

--><div class="part w100">
  <div ng-click="cure($event)" class="button" ng-class="{disabled: !game.characters.canCure()}">RESTORE</div>
  <div ng-click="escape($event)" class="button" ng-class="{disabled: !game.characters.canEscape()}">ESCAPE</div>
</div>

<div></div>

<div class="part w100"></div><!--

--><div class="part w300"></div><!--

--><div class="part characters_limit w300">
  <div class="characters_limit_progress" style="width:{{game.characters_limit_progress(300)}}px;"></div>
</div><!--

--><div class="part w100"></div>

<div class="space"></div>

<div class="part title w400">Enemy</div>
<div class="part title w50">VS</div>
<div class="part title w400">Characters</div>

<div class="space"></div>

<div class="part w400">

  <section class="enemies">
    <div ng-repeat="enemy in game.enemies.getTeam() | clean" class="left div400 enemy">
      <div class="main">
        <div class="part avatar w50">
          <img ng-src="img/enemy/{{enemy.image}}" alt="avatar" height="48" />
        </div>
        <div class="part w300">
          {{enemy.name}} <strong>(LVL{{enemy.level|ceil}})</strong> 
          <span ng-if="enemy.boss">
            <span class="boss">BOSS</span> 
          </span>
          <div>
            <span class="label">hp</span> {{enemy.getHpMax()}} 
            <span class="label">pwr</span> {{enemy.getHits()}}
          </div>
          <div>
            <span class="label">xp</span> {{enemy.xpReward()}} 
            <span class="label">ap</span> {{enemy.apReward()}} 
            <span class="label">gils</span> {{enemy.gilsReward()}}
          </div>
        </div>
      </div>
      <div class="infos"></div>
    </div>
  </sections>

</div><!--

--><div class="part title w50"></div><!--

--><div class="part w400">

  <section class="characters">
    <div ng-repeat="(i, character) in game.characters.getTeam() | clean" class="right div400 character">
      <div class="xp_progress" style="width:{{character.xpProgress(400)}}px;"></div>
      <div class="main">  
        <div class="part avatar w50">
          <img ng-src="img/characters/{{character.image}}" alt="avatar" class="icon" />
        </div><!--
        --><div class="part w350">
          <div>{{character.name}} <strong>(LVL{{character.level}})</strong></div>
          <div ng-if="character.level > 0">
            <span class="label">hp</span> {{character.getHpMax()}} 
            <span class="label">pwr</span> {{character.getHits()|round:2}}
          </div>
          <div class="line">"{{character.getLine()}}"</div>
        </div>
      </div>
      <div class="infos">
        <div class="powerUp" ng-if="character.weapon">
          <img ng-src="img/icons/{{character.weapon.type}}.png" class="icon" />
          {{character.weapon.name}} (+{{character.weapon.hits}})
        </div>
        <div class="powerUp" ng-if="character.armor">
          {{character.armor.name}}
        </div>
        <div class="powerUp" ng-if="character.materia">
          <img ng-src="img/icons/{{character.materia.color}}-materia.png" class="materia icon" />
          {{character.materia.name}}
        </div>
        <div class="powerUp" ng-if="character.item">
          {{character.item.name}}
        </div>
        <div class="powerUp" ng-if="character.limit">
          {{character.limit.name}}
        </div>
      </div>
    </div>
  </sections>

</div>

